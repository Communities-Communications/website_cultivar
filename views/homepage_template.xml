<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
	
		<template name="Homepage" priority="29" t-name="website.homepage">
			<t t-call="website.layout">

				<div class="container">
					<!-- Current Day Code -->
					<div class="col-xs-12 col-sm-6 col-md-2 same_height-divs" style="text-align: center">
						<span class="c_month_year-text"> <span t-esc="today[4]"/><br/>
							<span t-esc="today[5]"/>
						</span>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 same_height-divs current_ev-border">
						<div class="col-md-12">
							Textblblablalbalb
						</div>
						<hr class="today-text-hr"/>
						<span t-esc="today[2]"/>
					</div>
					<div class="col-xs-6 col-sm-4 col-md-2 same_height-divs">
						<div class="today-align-text">
							Texto
						</div>
						<hr class="today-hr"/>
						<div class="today_week_day-text">
							<span t-esc="today[1]"/>
						</div>
						<hr class="today-hr" style="vertical-align: middle;"/>
						<div class="today-text">
							<span t-esc="today[0]"/>
						</div>
					</div>
					<!-- End of Current Day -->

					<!-- Calendar start generated by python -->
					<t t-set="c_month" t-value="today[3]"/>
					<t t-set="diaID" t-value="0"/>
					<t t-foreach="calendar" t-as="cal">
						<!-- Ultimas -->
						<div t-if="cal_index == 2"> 
							<div class="col-xs-12 col-sm-8 col-md-4 ultimas-bg day-border same_height-divs">
								<div class="clearfix ult-txt-tit">
									ULTIMAS
								</div>
								<div class="clearfix ult-txt-res">
									Texto
								</div>
							</div>
						</div>
						<!-- END of Ultimas -->

						<!-- Day -->
						<t t-if="cal[3] in (1, 4, 7, 10)">
							<t t-if="cal[6]" t-set="monthcolor" t-value="'month1_we-bg'"/>
							<t t-else="" t-set="monthcolor" t-value="'month1_wd-bg'"/>
						</t>
						<t t-elif="cal[3] in (2, 5, 8, 11)">
							<t t-if="cal[6]" t-set="monthcolor" t-value="'month2_we-bg'"/>
							<t t-else="" t-set="monthcolor" t-value="'month2_wd-bg'"/>
						</t>
						<t t-else="">
							<t t-if="cal[6]" t-set="monthcolor" t-value="'month3_we-bg'"/>
							<t t-else="" t-set="monthcolor" t-value="'month3_wd-bg'"/>
						</t>

						<!-- Testing ZONE -->
						<t t-set="dayIndex" t-value="cal_index"/>
						<t t-set="callModal" t-value="'#event_modal'+str(dayIndex+1)"/>
						<t t-set="genModal" t-value="'event_modal'+str(dayIndex+1)"/>
						<!-- END of Testing Zone -->
						
						<div t-attf-class="col-xs-6 col-sm-4 col-md-2 {{monthcolor}} day-border same_height-divs">
							<div class="clearfix event_day-text" style="height:35px">
								<div t-if="cal[0] == 1">
									<span t-esc="cal[4]"/>
									<span t-esc="cal[5]"/>
								</div>
                				<a data-toggle="modal" t-attf-href="{{callModal}}">
									<t t-set="diaID" t-value="cal_index"/>
									<span t-esc="cal[2]"/>
								</a>
            				</div>
            				<hr class="weekday-hr"/>		
            				<div class="clearfix" style="margin-top: -5%;">
               					<div class="col-xs-12 col-sm-6 col-md-6 temp_day-text" style="">
                    				IMG
								<hr class="temps-hr"/>
									15ºC
									10ºC
								</div>
								<div class="col-xs-12 col-sm-6 col-md-6">
									<div class="week_day-text">
										<span t-esc="cal[1]"/>
									</div>
									<div class="day-text">
										<span class="day-text" t-esc="cal[0]"/>
									</div>
								</div>
							</div>
        				</div>
						<!-- END of Day -->
						
						<!-- Day events modal -->
						<t t-if="cal[2] != ''">
							<div class="modal fade" t-attf-id="{{genModal}}" role="dialog">
								<div class="modal-dialog">
									<div class="modal-content">
										<div class="modal-header">
											<button type="button" class="close_btn-css" data-dismiss="modal" aria-label=""><span>×</span></button>
										</div>
										<div class="modal-body">			
											<div class="event_modal-css">
												<span t-esc="cal"/>
												<t t-set="eventsIDs" t-value="cal[7]"/>
												<t t-set="eventsIDs" t-value="str(eventsIDs).split('-')"/>
												<span t-esc="eventsIDs"/>
												<ul class="media-list">
													<li t-foreach="events" t-as="event" class="media">
														<t t-if="str(event.id) in eventsIDs">
															<div itemscope="itemscope" itemtype="http://schema.org/Event" class="media-body">
																<h4 class="media-heading">
																	<a itemprop="url" t-att-class="event.state == 'done' and 'text-success'" t-attf-href="/event/#{ slug(event) }/#{(not event.menu_id) and 'register' or ''}"><span itemprop="name" t-field="event.name"> </span></a>
																</h4>
																<div>
																	<t t-if="event.organizer_id">
																		Organizado por: <span t-field="event.organizer_id"> </span>
																	</t>
																</div>
																<div>
																	<i class="fa fa-clock-o"/>
																	De: <span itemprop="startDate" t-field="event.with_context(tz=event.date_tz).date_begin" t-options="{&quot;hide_seconds&quot;:&quot;True&quot;}"/>
																	<i>até</i>
																	<span itemprop="endDate" t-field="event.with_context(tz=event.date_tz).date_end" t-options="{&quot;hide_seconds&quot;:&quot;True&quot;}"/>
																</div>
																<div itemprop="location" t-field="event.address_id" t-options="{&quot;widget&quot;: &quot;contact&quot;,&quot;fields&quot;: [&quot;city&quot;]}"/>
																<div class="text-muted" t-if="event.event_type_id">
																	<i class="fa fa-tag"/> <span t-field="event.event_type_id"/>
																</div>
															</div>
														</t>
													</li>
												</ul>
											</div>
										</div>
									</div>
								</div>
							</div>
						</t>
						<!-- END of Day events modal -->
					</t>
					<!-- End of Calendar generated by python -->
       			</div>

				<!-- day pop up code -->
				<!-- <div class="container">
					<div class="modal fade" id="event_modal" role="dialog">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close_btn-css" data-dismiss="modal" aria-label=""><span>×</span></button>
								</div>
								<div class="modal-body">			
									<div class="event_modal-css">
										<img src="http://goactionstations.co.uk/wp-content/uploads/2017/03/Green-Round-Tick.png" alt=""/>
										<h1>Thank You!</h1>
										<p>Your submission is received and we will contact you soon</p>
										<h3 class="cupon-pop">Your Id: <span>12345</span></h3>
										<span t-esc="calendar[diaID]"/>
										<br/>
										<span t-esc="calendar[2]"/>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div> -->
				<!-- END of day pop up code -->

			<!-- <ul class="media-list">
				<li t-foreach="events" t-as="event" class="media">
					<div itemscope="itemscope" itemtype="http://schema.org/Event" class="media-body">
						<h4 class="media-heading">
							<a itemprop="url" t-att-class="event.state == 'done' and 'text-success'" t-attf-href="/event/#{ slug(event) }/#{(not event.menu_id) and 'register' or ''}"><span itemprop="name" t-field="event.name"> </span></a>
						</h4>
						<div>
							<t t-if="event.organizer_id">
								Organizado por: <span t-field="event.organizer_id"> </span>
							</t>
						</div>
						<div>
							<i class="fa fa-clock-o"/>
							De: <span itemprop="startDate" t-field="event.with_context(tz=event.date_tz).date_begin" t-options="{&quot;hide_seconds&quot;:&quot;True&quot;}"/>
							<i>até</i>
							<span itemprop="endDate" t-field="event.with_context(tz=event.date_tz).date_end" t-options="{&quot;hide_seconds&quot;:&quot;True&quot;}"/>
						</div>
						<div itemprop="location" t-field="event.address_id" t-options="{&quot;widget&quot;: &quot;contact&quot;,&quot;fields&quot;: [&quot;city&quot;]}"/>
						<div class="text-muted" t-if="event.event_type_id">
							<i class="fa fa-tag"/> <span t-field="event.event_type_id"/>
						</div>
					</div>
				</li>
			</ul> -->

			</t>

		</template>

	</data>
</odoo>
